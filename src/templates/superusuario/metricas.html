<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>SISCATP - Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../style.css" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

    <div class="sidebar d-none d-lg-block">
        <a href="#"><ion-icon name="grid-outline"></ion-icon> Dashboard</a>
        <a href="#"><ion-icon name="people-outline"></ion-icon> Compañias</a>
        <a href="#"><ion-icon name="cube-outline"></ion-icon> Métricas</a>
    </div>

    <header class="topbar">
        <button class="btn text-white d-lg-none" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
            <ion-icon name="menu-outline" size="large"></ion-icon>
        </button>
        <a href="#" class="d-flex align-items-center text-white text-decoration-none">
            <img src="/imagen/siscatp blanco.png" alt="Logo SISCATP" width="40" height="30" class="me-2">
            <h4 class="mb-0">SISCATP</h4>
        </a>
        <div class="user-info ms-auto dropdown">
            <span class="d-none d-lg-inline mb-0">bienvenido, Márquez</span>
            <a class="text-white ms-2" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <ion-icon name="person"></ion-icon>
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <h6 class="dropdown-header">Márquez</h6>
                </li>
                <li><a class="dropdown-item" href="">Cerrar sesión</a></li>
            </ul>
        </div>
    </header>

    <div class="offcanvas offcanvas-start bg-dark text-white" tabindex="-1" id="mobileMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">SISCATP</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body p-0">
            <a href="#" class="d-block px-3 py-2"><ion-icon name="grid-outline"></ion-icon> Dashboard</a>
            <a href="#" class="d-block px-3 py-2"><ion-icon name="people-outline"></ion-icon> Empleados</a>
            <a href="#" class="d-block px-3 py-2"><ion-icon name="cube-outline"></ion-icon> Productos</a>
        </div>
    </div>

    <main class="main-content">
        <h5 class="fw-bold text-orange mb-4">Métricas Sociales - Facebook</h5>
      
        <div class="bg-white p-4 rounded-4 shadow-sm">
          <div class="row g-4 mb-4">
            <div class="col-md-3">
              <div class="card-box text-center p-3 border rounded-4">
                <ion-icon name="eye-outline" size="large"></ion-icon>
                <h6 class="mt-2">Impresiones totales</h6>
                <h4 class="fw-bold" id="totalImpressions">0</h4>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card-box text-center p-3 border rounded-4">
                <ion-icon name="hand-left-outline" size="large"></ion-icon>
                <h6 class="mt-2">Interacciones</h6>
                <h4 class="fw-bold" id="totalInteractions">0</h4>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card-box text-center p-3 border rounded-4">
                <ion-icon name="chatbox-ellipses-outline" size="large"></ion-icon>
                <h6 class="mt-2">Comentarios</h6>
                <h4 class="fw-bold" id="totalComments">0</h4>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card-box text-center p-3 border rounded-4">
                <ion-icon name="share-social-outline" size="large"></ion-icon>
                <h6 class="mt-2">Compartidos</h6>
                <h4 class="fw-bold" id="totalShares">0</h4>
              </div>
            </div>
          </div>
      
          <!-- Gráfica de interacciones por publicación -->
          <div class="bg-light rounded-4 p-4 mb-5">
            <h6 class="fw-bold mb-3">Interacciones por publicación</h6>
            <canvas id="interactionsChart" height="100"></canvas>
          </div>
      
          <!-- Tabla de publicaciones -->
          <div class="table-responsive">
            <table class="table table-bordered text-center align-middle">
              <thead class="table-dark">
                <tr>
                  <th>ID Publicación</th>
                  <th>Fecha</th>
                  <th>Contenido</th>
                  <th>Impresiones</th>
                  <th>Interacciones</th>
                  <th>Comentarios</th>
                  <th>Compartidos</th>
                </tr>
              </thead>
              <tbody id="postMetrics">
                <!-- Datos dinámicos desde Facebook Graph API -->
              </tbody>
            </table>
          </div>
        </div>
      </main>
      
    <div class="footer-wave"></div>
    <footer class="footer-content text-center p-4">
        <p></p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script>
        const ctx = document.getElementById('interactionsChart').getContext('2d');
        const interactionsChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: [], // Titulos de las publicaciones
            datasets: [
              {
                label: 'Interacciones',
                data: [], // Cantidades de interacciones por publicación
                backgroundColor: '#007bff'
              }
            ]
          },
          options: {
            responsive: true,
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>